<div class="subnav">
  <ul class="nav-pills nav">
    <li>
      <%= link_to "Ride input page", new_ride_path %>
    </li>
    <li class="active">
      <%= link_to "Ride search page", search_rides_path %>
    </li>
  </ul>
</div>
<br/>
<h4> Search Query</h4>
<%= form_for :ride, :url => search_rides_path, :method => "get" do |f| %>
  <div class="field">
    <%= f.label :from_city %>
    <%= f.text_field :from_city %>
  </div>
  <div class="field">
    <%= f.label :to_city %>
    <%= f.text_field :to_city %>
  </div>
  <table><tr>
          <td>
            <%= f.radio_button :departure_datetime, 'all', :checked =>true %>
          </td>
          <td>
            <%= f.label :departure_datetime, 'All', :for => 'ride_departure_datetime_all'%>
          </td>
          <td>
            <%= f.radio_button :departure_datetime, 'this_week' %>
          </td>
          <td>
            <%= f.label :departure_datetime, 'This Week', :for => 'ride_departure_datetime_this week'%>
          </td>
          <td>
            <%= f.radio_button :departure_datetime , 'this_month' %>
          </td>
          <td>
            <%= f.label :departure_datetime, 'This Month', :for => 'ride_departure_datetime_this month'%>
          </td>
        </tr>
      </table>
  
  <%= f.submit "search" %>
  <ul>
    <% if @rides.blank? %>
      <li> No ride found </li>
    <% end %>
    <% @rides.each do |ride| %>
      <li>
        <%= number_to_currency(ride.price_per_seat) %>, <%= ride.departure_datetime %>, <%= ride.available_seats %> available seats,leave (<%= ride.from_city %>@<%= ride.departure_datetime %>  ± <%= ride.flexibility || 0 %> mins), arrive( <%= ride.to_city %>@<%= ride.departure_datetime %> ± <%= ride.flexibility || 0 %> mins)
      </li>
    <% end %>
  </ul>
<%end%>